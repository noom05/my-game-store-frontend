<div class="container my-5">
  <form [formGroup]="addGameForm" (ngSubmit)="onSubmit()">
    <div class="form-section row align-items-stretch">
      <div class="col-md-5">
        <input #fileInput id="fileInput" type="file" (change)="onFileSelect($event)" accept="image/*" class="d-none" />
        <label for="fileInput" class="d-block" style="cursor:pointer;">
          <div id="imagePreview">
            <img *ngIf="imagePreview" [src]="imagePreview" alt="Game Image Preview" class="img-fluid" />
            <span *ngIf="!imagePreview" class="text-muted">คลิกเพื่ออัปโหลดรูปภาพเกม</span>
          </div>
        </label>
      </div>

      <div class="col-md-7 d-flex flex-column">
        <h3 class="mb-4">เพิ่มเกมใหม่</h3>

        <div class="mb-3">
          <label class="form-label">ชื่อเกม</label>
          <input type="text" class="form-control" formControlName="game_name" />
        </div>

        <div class="mb-3">
          <label class="form-label">รายละเอียด</label>
          <textarea class="form-control" formControlName="description" rows="3"></textarea>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">ราคา</label>
            <input type="number" class="form-control" formControlName="price" />
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label">วันวางจำหน่าย</label>
            <input type="date" class="form-control" formControlName="release_date" />
          </div>
        </div>

        <div class="mb-4">
          <label class="form-label">ประเภทเกม</label>
          <div class="types-list">
            <div *ngFor="let type of allTypes">
              <label class="type-item">
                <input type="checkbox" [value]="type.id" (change)="onTypeChange($event)"
                  [checked]="isTypeSelected(type.id)" />
                <span>{{ type.type_name }}</span>
              </label>
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-end gap-2 mt-auto">
          <button type="submit" class="btn btn-success" [disabled]="addGameForm.invalid || !selectedFile">
            <i class="bi bi-check-circle"></i> บันทึก
          </button>
          <a routerLink="/dashboard" class="btn btn-secondary">
            <i class="bi bi-x-circle"></i> ยกเลิก
          </a>
        </div>
      </div>
    </div>
  </form>
</div>